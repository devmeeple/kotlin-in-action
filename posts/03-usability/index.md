# 3. 사용성(Usability)

확장 함수를 이해하면 다른 장은 바로 이해했다고 할 수 있다. 꼭 이긴다.

- 확장 함수
- 이름 붙은 인자와 디폴트 인자
- 오버로딩
- when Expressions

## 3.1 확장 함수(Extension Functions)

> 라이브러리에 멤버 함수만 추가하면 문제해결할 수 있을 것 같은데? 뭐? 그게 쉽다고? 자주 쓴다고? 진짜예요?

- 확장 함수(Extension Functions)는 기존 클래스에 멤버 함수를 추가하는 것과 같은 효과를 얻는다.
    - 확장 대상 타입은 수신 객체 타입(Receiver Type)이라고 한다.
- 정의

```
fun 수신타입.확장함수() { ... }
```

- 확장 함수를 다른 패키지에서 사용하려면 `import`해야 한다.
- `this`키워드를 사용해 멤버 함수나 다른 확장에 접근할 수 있다.
    - 물론, 확장 함수 안에서도 `this`는 생략 가능하다.

유용하다 들었다. 소문 자자하다. 하지만 아직은 타입스크립트(TypeScript) `Symbol`처럼 느껴지는 한없이 먼 친구다.

## 3.2 이름 붙은 인자와 디폴트 인자(Named & Default Arguments)

> 함수를 호출할 때 인자의 이름을 지정한다.

- 이름 붙은 인자는 코틀린 코드 가독성을 올리는 효과적인 방법이다. (vs. 빌더)
    - 이름 붙은 인자를 사용하면 읽는 사람이 문서를 살펴보지 않고도 이해할 정도로 명확하게 작성 가능하다.
- 예제
    - 이름 붙은 인자를 사용하면 색의 순서를 변경할 수 있다.
    - 인자 순서를 변경하면, 나머지 인자는 이름 붙은 인자를 사용해야 한다. (혼란스러움 방지?)
- 이름 붙은 인자는 디폴트 인자(default argument)와 함께 사용하면 더욱 유용하다.
- 코드 가독성, 디폴트 인자란 파라미터의 디폴트 값을 함수 정의에서 지정하는 방법이다.
    - 함수를 호출할 때 값을 지정하지 않은 인자는 자동으로 기본값을 할당한다.
    - 덕분에 디폴트 값과 다른 인자만 지정하면 된다.
    - 인자 목록이 길 때, 디폴트 인자를 생략하면 코드를 짧게 작성할 수 있다.
- 덧붙은 콤마(trailing comma)
    - 파라미터 값을 여러 줄에 걸쳐 쓰는 경우 유용하다.
    - 콤마를 추가하거나 빼지 않아도 새로운 아이템을 추가하거나 아이템의 순서를 변경할 수 있다.
- 최종, 이름 붙은 인자 + 디폴트 인자 + 덧붙은 콤마, 그런데 생성자를 곁들인.

## 3.3 오버로딩(Overloading)

> 디폴트 인자를 지원하지 않는 언어에서는 종종 디폴트 인자를 흉내 내기 위해 오버로딩을 활용한다.

- `overload`(짐을 너무 많이 싣거나 무엇을 너무 많이 준다)는 함수에 사용한다.
    - 여러 이름을 여러 번 사용한다.
- 예제(정의)
- 함수의 시그니처(signature)는 함수 이름, 파라미터 목록, 반환 타입으로 이뤄진다.
    - 코틀린은 시그니처를 비교해서 함수를 구분한다.
    - 함수 시그니처는 함수를 둘러싸고 있는 클래스(확장 함수의 경우 수신 객체 타입)도 포함한다.
- 함수를 오버로딩 할 때는 함수 파라미터 리스트를 서로 다르게 만든다.
    - 반환 타입은 오버로딩 대상이 아니다.
- 클래스 안에 확장 함수와 시그니처가 똑같은 멤버 함수가 들어 있으면 멤버 함수를 우선시한다.
    - 물론, 확장 함수를 사용해 멤버 함수를 오버로딩 할 수 있다.
- 언어가 오버로딩을 지원하지 않는 것은 큰 단점이 아니다. 하지만 오버로딩이 있으면 더욱 편리하게 읽기 좋은 코드를 작성할 수 있다.
    - 함수 자체에 대해 설명하는 이름을 사용해 추상화 수준을 높인다. 인자 비용을 덜어낸다.
    - 불필요한 중복을 줄인다.

예제를 작성해야 '이해했다'라고 표현할 수 없다. 아직 난해하다.

> 'Kotlin Docs'에서 오버로딩을 찾지 못했다. 연산자 오버로딩 논외.

## 3.4 `when` Expressions

> 컴퓨터 프로그램에는 패턴에 따라 어떤 동작을 수행하는 코드가 많다.

- 여러 선택지가 있을 때 `when`표현식을 사용하면 유용하다. better than `if expression`
    - `when`식과 `if`식은 기능이 겹치지만 `when`이 더욱 유연하다. 권장한다.
    - `when`을 사용한 해법은 여러 선택지 중 하나를 선택하는 조금 더 우아한 방법이다.
- `when`은 값을 비교해 판별한다.
    - 괄호: 비교 대상 값
    - 본문: match, 값과 일치하는 식
    - 비교: 대상 값과 각 math에 있는 화살표 왼쪽 값을 순서대로 비교한다. 일치하는 값이 있으면 우측 값을 계산하고 결괏값이 된다.
- `else`가 없으면 컴파일 타입 오류가 발생한다.
    - `when`식을 문으로 취급하면, 생략할 수 있다.
- `when 인자`, 임의의 식이 올 수 있다.
- `match 조건`, 아무 값이나 올 수 있다.

리팩터링(정재남,JavaScript), `switch-case`이 떠올랐다. 코틀린답게 코드를 작성하는 방법이 아닐까? 우아한 코드?
